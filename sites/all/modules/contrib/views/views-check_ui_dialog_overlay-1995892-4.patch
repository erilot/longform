From 6e51e3288492e1770486a0aa60abc91220d0b533 Mon Sep 17 00:00:00 2001
From: Wong Hoi Sing Edison <hswong3i@gmail.com>
Date: Fri, 13 Dec 2013 17:11:54 +0800
Subject: [PATCH] Issue #1995892 by jlyon, hswong3i: JS error: Cannot set
 property 'events' of undefined jquery.ui.dialog.patch.js:24

---
 js/jquery.ui.dialog.patch.js |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/js/jquery.ui.dialog.patch.js b/js/jquery.ui.dialog.patch.js
index d00e6ab..3ac7704 100644
--- a/js/jquery.ui.dialog.patch.js
+++ b/js/jquery.ui.dialog.patch.js
@@ -20,7 +20,7 @@
  */
 
 (function ($, undefined) {
-  if ($.ui && $.ui.dialog) {
+  if ($.ui && $.ui.dialog && $.ui.dialog.overlay) {
     $.ui.dialog.overlay.events = $.map('focus,keydown,keypress'.split(','),
                                  function(event) { return event + '.dialog-overlay'; }).join(' ');
   }
-- 
1.7.9.5

